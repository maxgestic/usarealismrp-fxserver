<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>CONNECTING TO SERVER</title>
    <style type="text/css">
    body { color: #ffffff; background: #000000; }
    </style>

    <!-- CSS Style for the background slider -->
    <link rel="stylesheet" href="css/style.css">

    <!-- font icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous">

    <!-- howl JS for radio music -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.core.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  </head>
  <body>
    <video muted loop autoplay>
      <source src="img/loadscreen-video-1.mp4" type="video/mp4">
    </video>
    <main class="carousel-bg">
      <section id="logo-container">
        <!-- can use https://fontmeme.com/permalink/190204/8e00b14bf9a6709f60e3946f223bfdf6.png also -->
        <!-- or https://fontmeme.com/permalink/190204/1da72b3ce5da5981b3a2bc6466f8fcac.png
            or https://fontmeme.com/permalink/190204/49bb075d378719bbd20b0040eef07af3.png
            or https://fontmeme.com/permalink/190204/6aeea7ce96d0facc97ee33886b4fb10a.png -->
        <img src="https://i.imgur.com/xO9IA0l.png" border=0 height="175">
      </section>
      <!-- progress bar -->
      <div class="progress-bar-wrap">
        <h3 class="progress-info">Loading...</h3>
        <div class="progress-bar-outer"><div class="progress-bar"></div></div>
      </div>
      <!-- website / twitter info -->
      <div id="website"><p style="position: absolute; right: 600px; bottom: 25px; text-align: center;"><font face="verdana" size="3"> <i class="fas fa-home"></i> HTTPS://USARRP.GG | <i class="fab fa-instagram"></i> <span style="font-size: 1.1em">usarealismrp</span> | <i class="fab fa-discord"></i> discord.gg/usarrp</font></p></div>
    </main>

    <script type="text/javascript">
      var count = 0;
      var thisCount = 0;

      const emoji = {
        INIT_BEFORE_MAP_LOADED: [ 'üçâ' ],
        INIT_AFTER_MAP_LOADED: [ 'üçã', 'üçä' ],
        INIT_SESSION: [ 'üçê', 'üçÖ', 'üçÜ' ]
      };

      // define load screen event handlers
      const handlers = {
        startInitFunctionOrder(data)
        {
          count = data.count;
          $('.progress-info').append(emoji[data.type][data.order - 1] || '');
        },
        initFunctionInvoking(data)
        {
          $('.progress-bar').css("width", ((data.idx / count) * 100) + '%')
        },
        startDataFileEntries(data)
        {
          count = data.count;
          $('.progress-info').html("\u{1f358}")
        },
        performMapLoadFunction(data)
        {
          ++thisCount;
          $('.progress-bar').css("width", ((thisCount / count) * 100) + '%');
        },
        onLogLine(data)
        {
          $('.progress-info').html(data.message + "..!");
        }
      };

      // listen for load screen events
      window.addEventListener('message', function(e)
      {
        (handlers[e.data.eventName] || function() {})(e.data);
      });
    </script>

    <script src="js/main.js"></script>

  </body>
</html>
